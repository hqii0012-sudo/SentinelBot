<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工程监督平台 - 关系梳理</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="kinship.css">
</head>
<body class="kp-body">
    <!-- 顶部标题栏 -->
    <header class="kp-topbar">
        <h1>关系梳理</h1>
        <div class="kp-topbar-actions">
            <button class="kp-btn kp-btn-ghost" aria-label="导出关系图谱">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7,10 12,15 17,10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                导出图谱
            </button>
            <a href="index.html" class="kp-btn kp-btn-outline" aria-label="返回首页">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9,22 9,12 15,12 15,22"></polyline>
                </svg>
                返回首页
            </a>
        </div>
    </header>

    <!-- 主布局 -->
    <div class="kp-layout">
        <!-- 左侧筛选栏 -->
        <aside class="kp-sidebar">
            <!-- 基础筛选 -->
            <div class="kp-card">
                <h3 class="kp-card-title">基础筛选</h3>
                
                <div class="kp-form-group">
                    <label class="kp-label">项目选择</label>
                    <div class="kp-checks">
                        <label class="kp-check-item">
                            <input type="checkbox" name="project" value="city-road">
                            <span class="kp-check-text">城市道路改造工程</span>
                        </label>
                        <label class="kp-check-item">
                            <input type="checkbox" name="project" value="coastal">
                            <span class="kp-check-text">滨海新区建设项目</span>
                        </label>
                        <label class="kp-check-item">
                            <input type="checkbox" name="project" value="municipal">
                            <span class="kp-check-text">市政管网更新工程</span>
                        </label>
                    </div>
                </div>

                <div class="kp-form-group">
                    <label class="kp-label">时间范围</label>
                    <div class="kp-date-range">
                        <input type="date" class="kp-date-input" value="2023-01-01">
                        <span class="kp-date-separator">至</span>
                        <input type="date" class="kp-date-input" value="2023-12-31">
                    </div>
                </div>
            </div>

            <!-- 实体类型 -->
            <div class="kp-card">
                <h3 class="kp-card-title">实体类型</h3>
                <div class="kp-checks">
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="personnel" checked>
                        <span class="kp-check-text">人员</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="enterprise" checked>
                        <span class="kp-check-text">企业</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="project" checked>
                        <span class="kp-check-text">项目</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="contract">
                        <span class="kp-check-text">合同</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="account">
                        <span class="kp-check-text">账号</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="entity" value="address">
                        <span class="kp-check-text">地址</span>
                    </label>
                </div>
            </div>

            <!-- 关系类型 -->
            <div class="kp-card">
                <h3 class="kp-card-title">关系类型</h3>
                <div class="kp-checks">
                    <label class="kp-check-item">
                        <input type="checkbox" name="relation" value="equity" checked>
                        <span class="kp-check-text">股权</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="relation" value="employment" checked>
                        <span class="kp-check-text">任职</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="relation" value="procurement" checked>
                        <span class="kp-check-text">招采</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="relation" value="funds">
                        <span class="kp-check-text">资金</span>
                    </label>
                    <label class="kp-check-item">
                        <input type="checkbox" name="relation" value="communication">
                        <span class="kp-check-text">通讯</span>
                    </label>
                </div>
            </div>

            <!-- 风险筛选 -->
            <div class="kp-card">
                <h3 class="kp-card-title">风险筛选</h3>
                <div class="kp-switch-group">
                    <label class="kp-switch">
                        <input type="checkbox" name="suspected">
                        <span class="kp-toggle"></span>
                        <span class="kp-switch-text">仅显示疑似关联</span>
                    </label>
                    <label class="kp-switch">
                        <input type="checkbox" name="high-risk">
                        <span class="kp-toggle"></span>
                        <span class="kp-switch-text">仅高风险</span>
                    </label>
                </div>
            </div>

            <!-- 底部按钮 -->
            <div class="kp-actions">
                <button class="kp-btn kp-btn-ghost" aria-label="导入数据">导入数据</button>
                <button class="kp-btn kp-btn-ghost" aria-label="重置筛选条件">重置</button>
                <button class="kp-btn kp-btn-primary" aria-label="应用筛选条件">应用</button>
            </div>
        </aside>

        <!-- 中间画布区域 -->
        <main class="kp-canvas">
            <!-- 工具条 -->
            <nav class="kp-toolbar">
                <button class="kp-pill" aria-label="选择工具">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path>
                    </svg>
                </button>
                <button class="kp-pill" aria-label="放大">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                        <line x1="11" y1="8" x2="11" y2="14"></line>
                        <line x1="8" y1="11" x2="14" y2="11"></line>
                    </svg>
                </button>
                <button class="kp-pill" aria-label="缩小">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                        <line x1="8" y1="11" x2="14" y2="11"></line>
                    </svg>
                </button>
                <button class="kp-pill" aria-label="适配视图">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <path d="M9 9h6v6H9z"></path>
                    </svg>
                </button>
                <div class="kp-search">
                    <input type="text" placeholder="搜索实体或关系" class="kp-search-input">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                    </svg>
                </div>
                <button class="kp-pill" aria-label="命中高亮">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"></path>
                        <circle cx="12" cy="12" r="10"></circle>
                    </svg>
                </button>
                <button class="kp-pill" aria-label="布局切换">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6,9 12,15 18,9"></polyline>
                    </svg>
                </button>
                <button class="kp-pill" aria-label="导出PNG">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7,10 12,15 17,10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </button>
            </nav>

            <!-- 画布 -->
            <section id="graphCanvas">
                <div class="kp-empty">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <circle cx="12" cy="12" r="3"></circle>
                        <circle cx="6" cy="6" r="2"></circle>
                        <circle cx="18" cy="6" r="2"></circle>
                        <circle cx="6" cy="18" r="2"></circle>
                        <circle cx="18" cy="18" r="2"></circle>
                        <line x1="9" y1="9" x2="15" y2="15"></line>
                        <line x1="15" y1="9" x2="9" y2="15"></line>
                        <line x1="6" y1="8" x2="9" y2="11"></line>
                        <line x1="15" y1="11" x2="18" y2="8"></line>
                        <line x1="6" y1="16" x2="9" y2="13"></line>
                        <line x1="15" y1="13" x2="18" y2="16"></line>
                    </svg>
                    <p>应用筛选条件后将显示关系图谱</p>
                </div>
            </section>
        </main>

        <!-- 右侧详情面板 -->
        <aside class="kp-detail">
            <div class="kp-panel">
                <!-- 标签页 -->
                <div class="kp-tabs">
                    <button class="kp-tab kp-tab-active" aria-label="概览">概览</button>
                    <button class="kp-tab" aria-label="证据链">证据链</button>
                    <button class="kp-tab" aria-label="命中规则">命中规则</button>
                </div>

                <!-- 概览内容 -->
                <div class="kp-tab-content">
                    <div class="kp-overview">
                        <!-- 标题和徽标 -->
                        <div class="kp-header">
                            <h2 class="kp-name">张某</h2>
                            <span class="kp-badge">人员</span>
                        </div>

                        <!-- 风险区 -->
                        <div class="kp-risk">
                            <div class="kp-score">87</div>
                            <div class="kp-level">高风险</div>
                        </div>

                        <!-- 主要风险原因 -->
                        <div class="kp-reason">
                            <h4>主要风险原因</h4>
                            <ul>
                                <li>同时在多个相关企业任职，存在利益输送风险</li>
                                <li>与项目评审人员存在亲属关系</li>
                                <li>名下关联公司曾有不良记录</li>
                            </ul>
                        </div>

                        <!-- 操作按钮 -->
                        <div class="kp-operations">
                            <button class="kp-btn kp-btn-success" aria-label="确认风险">确认</button>
                            <button class="kp-btn kp-btn-danger" aria-label="排除风险">排除</button>
                            <button class="kp-btn kp-btn-ghost" aria-label="待核实">待核</button>
                        </div>

                        <!-- 关联实体 -->
                        <div class="kp-entities">
                            <h4>关联实体</h4>
                            <div class="kp-tags">
                                <span class="kp-tag">某建筑公司</span>
                                <span class="kp-tag">城东项目</span>
                                <span class="kp-tag">李某(评审人员)</span>
                                <span class="kp-tag">某咨询公司</span>
                                <span class="kp-tag">某投资公司</span>
                                <span class="kp-tag">某设计院</span>
                            </div>
                        </div>
                    </div>

                    <!-- 证据链内容（隐藏） -->
                    <div class="kp-tab-content kp-tab-hidden">
                        <div class="kp-table-container">
                            <table class="kp-table">
                                <thead>
                                    <tr>
                                        <th>来源</th>
                                        <th>字段</th>
                                        <th>片段</th>
                                        <th>链接</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>工商信息</td>
                                        <td>股东信息</td>
                                        <td>张某持股30%</td>
                                        <td>查看详情</td>
                                    </tr>
                                    <tr>
                                        <td>招投标</td>
                                        <td>评审记录</td>
                                        <td>李某参与评审</td>
                                        <td>查看详情</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 命中规则内容（隐藏） -->
                    <div class="kp-tab-content kp-tab-hidden">
                        <div class="kp-table-container">
                            <table class="kp-table">
                                <thead>
                                    <tr>
                                        <th>规则</th>
                                        <th>阈值</th>
                                        <th>贡献度</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>关联企业任职</td>
                                        <td>≥2家</td>
                                        <td>85%</td>
                                    </tr>
                                    <tr>
                                        <td>亲属关系</td>
                                        <td>存在</td>
                                        <td>70%</td>
                                    </tr>
                                    <tr>
                                        <td>历史记录</td>
                                        <td>有不良</td>
                                        <td>60%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- 底部日志栏 -->
    <footer class="kp-logbar">
        <div class="kp-log-item">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7,10 12,15 17,10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            <span>导入数据：城东项目关系数据 10:30</span>
        </div>
        <div class="kp-log-item">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12,6 12,12 16,14"></polyline>
            </svg>
            <span>自动检测：发现3个高风险关系 10:35</span>
        </div>
        <div class="kp-log-item">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14,2 14,8 20,8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10,9 9,9 8,9"></polyline>
            </svg>
            <span>导出报告：风险关系分析报告 11:15</span>
        </div>
    </footer>
</body>
</html>